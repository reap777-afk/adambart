<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabela Gier</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
            color: #333;
        }

        h1 {
            text-align: center;
            color: #444;
            margin-bottom: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #444;
            color: #fff;
            cursor: pointer;
            position: relative;
        }

        th:hover {
            background-color: #555;
        }

        th::after {
            content: "▼";
            position: absolute;
            right: 10px;
            font-size: 12px;
            opacity: 0.5;
        }

        th.sorted-asc::after {
            content: "▲";
        }

        th.sorted-desc::after {
            content: "▼";
        }

        tr:hover {
            background-color: #f1f1f1;
        }

        .add-game-form {
            margin-bottom: 20px;
            background-color: #fff;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        .add-game-form input {
            padding: 8px;
            margin-right: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 150px;
        }

        .add-game-form button {
            padding: 8px 12px;
            background-color: #444;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .add-game-form button:hover {
            background-color: #555;
        }

        .delete-btn {
            background-color: #ff4d4d;
            color: #fff;
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        .delete-btn:hover {
            background-color: #cc0000;
        }

        .edit-btn {
            background-color: #4CAF50;
            color: #fff;
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 5px;
        }

        .edit-btn:hover {
            background-color: #45a049;
        }

        .save-btn {
            background-color: #2196F3;
            color: #fff;
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 5px;
        }

        .save-btn:hover {
            background-color: #1e88e5;
        }

        .cancel-btn {
            background-color: #f44336;
            color: #fff;
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        .cancel-btn:hover {
            background-color: #e53935;
        }
    </style>
</head>
<body>

    <h1>Tabela Gier</h1>

    <!-- Formularz do dodawania nowej gry -->
    <div class="add-game-form">
        <input type="text" id="gameName" placeholder="Nazwa gry">
        <input type="number" id="gamePrice" placeholder="Cena (PLN)">
        <input type="text" id="gameReturn" placeholder="Zwrotik? (TAK/NIE)">
        <input type="number" id="gameRating" placeholder="Ocena (1-10)">
        <input type="text" id="gameComment" placeholder="Komentarz">
        <button onclick="addGame()">Dodaj Grę</button>
    </div>

    <!-- Tabela z grami -->
    <table id="gamesTable">
        <thead>
            <tr>
                <th onclick="sortTable(0)">NR.</th>
                <th onclick="sortTable(1)">NAZWA</th>
                <th onclick="sortTable(2)">CENA</th>
                <th onclick="sortTable(3)">ZWROTIK?</th>
                <th onclick="sortTable(4)">OCENA</th>
                <th onclick="sortTable(5)">KOMENTARZ</th>
                <th>AKCJE</th>
            </tr>
        </thead>
        <tbody>
            <!-- Dane zostaną dodane dynamicznie za pomocą JavaScript -->
        </tbody>
    </table>

    <script>
        // Początkowe dane tabeli
        let games = [
            { name: "Satisfactory", price: 184, return: "TAK", rating: 3, comment: "Nuda" },
            { name: "Operation Tango", price: 72, return: "NIE", rating: 8, comment: "" },
            { name: "Police Simulator", price: 120, return: "TAK", rating: 6, comment: "Fajne ale za drogie" },
            { name: "Pro Soccer Online", price: 36, return: "TAK", rating: 4, comment: "We dwóch ciężko" },
            { name: "Pico Park", price: 18, return: "TAK", rating: 5, comment: "Nie pamiętam xd" },
            { name: "BigFoot", price: 74, return: "NIE", rating: 2, comment: "fajne ale za drogie" },
            { name: "Lethal Company", price: 46, return: "TAK", rating: 7, comment: "" },
            { name: "Medieval Dynasty", price: 81, return: "TAK", rating: 6, comment: "fajna ale nie nasze klimaty" },
            { name: "No Fair Play", price: 14, return: "TAK", rating: 1, comment: "SYF KURWA SYF" }
        ];

        // Funkcja do wyświetlania gier w tabeli
        function renderGames() {
            const tbody = document.querySelector("#gamesTable tbody");
            tbody.innerHTML = ""; // Czyścimy tabelę przed ponownym renderowaniem

            games.forEach((game, index) => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${game.name}</td>
                    <td>${game.price} PLN</td>
                    <td>${game.return}</td>
                    <td>${game.rating}</td>
                    <td>${game.comment}</td>
                    <td>
                        <button class="edit-btn" onclick="editGame(${index})">Edytuj</button>
                        <button class="delete-btn" onclick="deleteGame(${index})">Usuń</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // Funkcja do dodawania nowej gry
        function addGame() {
            const name = document.getElementById("gameName").value;
            const price = parseFloat(document.getElementById("gamePrice").value);
            const returnStatus = document.getElementById("gameReturn").value.toUpperCase();
            const rating = parseInt(document.getElementById("gameRating").value);
            const comment = document.getElementById("gameComment").value;

            if (name && !isNaN(price) && (returnStatus === "TAK" || returnStatus === "NIE") && !isNaN(rating)) {
                games.push({ name, price, return: returnStatus, rating, comment });
                renderGames();
                // Czyszczenie pól formularza
                document.getElementById("gameName").value = "";
                document.getElementById("gamePrice").value = "";
                document.getElementById("gameReturn").value = "";
                document.getElementById("gameRating").value = "";
                document.getElementById("gameComment").value = "";
            } else {
                alert("Wprowadź poprawne dane!");
            }
        }

        // Funkcja do usuwania gry
        function deleteGame(index) {
            games.splice(index, 1);
            renderGames();
        }

        // Funkcja do edycji gry
        function editGame(index) {
            const game = games[index];
            const row = document.querySelector(`#gamesTable tbody tr:nth-child(${index + 1})`);
            row.innerHTML = `
                <td>${index + 1}</td>
                <td><input type="text" value="${game.name}"></td>
                <td><input type="number" value="${game.price}"></td>
                <td><input type="text" value="${game.return}"></td>
                <td><input type="number" value="${game.rating}"></td>
                <td><input type="text" value="${game.comment}"></td>
                <td>
                    <button class="save-btn" onclick="saveGame(${index})">Zapisz</button>
                    <button class="cancel-btn" onclick="renderGames()">Anuluj</button>
                </td>
            `;
        }

        // Funkcja do zapisywania edytowanej gry
        function saveGame(index) {
            const row = document.querySelector(`#gamesTable tbody tr:nth-child(${index + 1})`);
            const inputs = row.querySelectorAll("input");
            games[index] = {
                name: inputs[0].value,
                price: parseFloat(inputs[1].value),
                return: inputs[2].value.toUpperCase(),
                rating: parseInt(inputs[3].value),
                comment: inputs[4].value
            };
            renderGames();
        }

        // Funkcja do sortowania tabeli
        function sortTable(columnIndex) {
            const sortOrder = document.getElementById("gamesTable").getAttribute("data-sort-order") || "asc";
            const newSortOrder = sortOrder === "asc" ? "desc" : "asc";
            document.getElementById("gamesTable").setAttribute("data-sort-order", newSortOrder);

            if (columnIndex === 0) {
                // Sortowanie po numerze (indeksie)
                games.sort((a, b) => {
                    const indexA = games.indexOf(a);
                    const indexB = games.indexOf(b);
                    return newSortOrder === "asc" ? indexA - indexB : indexB - indexA;
                });
            } else {
                // Sortowanie po pozostałych kolumnach
                const key = Object.keys(games[0])[columnIndex - 1];
                games.sort((a, b) => {
                    const valueA = a[key];
                    const valueB = b[key];

                    if (typeof valueA === "string") {
                        return newSortOrder === "asc" ? valueA.localeCompare(valueB) : valueB.localeCompare(valueA);
                    } else {
                        return newSortOrder === "asc" ? valueA - valueB : valueB - valueA;
                    }
                });
            }

            renderGames();
        }

        // Inicjalizacja tabeli przy pierwszym załadowaniu strony
        renderGames();
    </script>

</body>
</html>